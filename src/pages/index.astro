---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import { Debug } from "astro/components";
import "@styles/index.css";

const response = await fetch("https://strapi-test-5a2l.onrender.com/api/todos");
const data = await response.json();
---

<Layout title="Welcome to Astro.">
  <main class="pt-[50px]">
    <link rel="stylesheet" href="/styles/index.css" />
    <h3 class="text-center font-bold text-5xl mb-11">Список дел</h3>
    <ul>
      {
        data.data?.map((item: any) => (
          <li class="p-5 bg-[#1d96ff]  mb-5 rounded-2xl cursor-pointer">
            <div class="text-center mb-3 text-3xl text-white">
              {item.attributes.title}
            </div>
            <div>
              <span class="text-white font-bold">Приоритет:</span>{" "}
              {item.attributes.priority}
            </div>
            <div>
              <span class="text-white font-bold">Дата:</span>{" "}
              {item.attributes.createdAt}
            </div>
          </li>
        ))
      }
    </ul>
    <!-- <Debug answer={data} /> -->
  </main>
</Layout>

<style>
  main {
    margin: auto;
    padding: 1rem;
    width: 800px;
    max-width: calc(100% - 2rem);
    font-size: 20px;
    line-height: 1.6;
  }
</style>
